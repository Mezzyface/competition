What's up everybody? Bills here and today we start the first episode in a series of videos that will be focused on scene management in the GDAU game engine. So I have a tutorial series that's on platformers. I've got a few other tutorials that are in the works and this video will focus on some more a I guess it's a core behind the scenes um functionality that you don't often see a whole bunch of tutorials on. So, you get these big games made, um, lots of scenes, you've got menus, you've got options, you've got, you know, smaller scenes within the options menu, but how do you manage all that? How do you transition from one scene to another scene? How do you know what's loaded and what do we need to load when transitioning from one scene to another scene? This is a core and a fundamental system, and that'll be the focus of this series. So, we're going to start from a bare bones project. Um, and this first video isn't going to be as heavy on the coding scene. Um, and it's going to be heavier on the theory and structure of GDO scene. So, blank project. Um, we've got nothing here. And so, let's talk about, you know, GDO, its structure, and how scenes are added. So, first thing we need to do is we're going to create a scene. And we'll just call it scene. And to make sure we know that the scene's actually running, let's add a sprite 2D. For the texture, we'll add the icon. Perfect. And we're just going to drag this out into the middle. Um, and then we need to save this. So, down here in our resources, I'm going to create a new folder. Call this scenes. Um, and we'll save this scene in here. So, we go to scene, save scene, go into scenes, we'll call it scene.tscn, hit save. So, now we have a scene with an image so we know the game is running. So, if we hit run, GDAU is going to ask us to set a default scene in the project settings. So, when GDAU initially runs, it needs a scene to load up as the first scene. Um, and we can specify that. We can change that in the project settings, but we're just going to select current, run the game, and boom, there's our scene. We see our square. Nothing's happening. Okay, perfect. Um, so project settings, we got our name, we got run, that's where we select our root scene right there. And then this is a boot splash. Um, we're not going to worry about that just because in we're going to add in our own splash scene system that can offer multiple splash scenes. Um, so I'm just going to switch this to 960 by 1280 uh mode to viewport and keep ratio scale mode fractional enable vsync. Okay. And then max FPS 60. Um, these are just a few settings I set just to make sure that my device stays good how it's running. Although I totally got the dimensions wrong on that on the window. I think that's what I want. Yeah, that looks better. Cool. All righty. So, there we go. We've got that scene. Um, and then now I'm going to add a new folder called scripts. So, our default scene loads. It goes straight to it. That's good. Next, what we're going to do is um we're going to add a script. And in this script, we are going to do file, create new script. Um, and I'm just going to call this game.gd. It's not going to do anything yet. It's just going to be called game.gd. And we're going to go into project settings and we're going to add this in as a global. Okay. So, we're going to call this game And we're going to find it in scripts game open add. Perfect. And then close. So now we have a root scene and we have a global. So now if we run our project, uh, I disappeared the window, but that's okay. We'll just go to the game tab. There it is right here. I got it on the floating dock. Um, if you want to switch that, you can just go in here and get rid of the floating that. So now, actually here, let's do this. Let's restart that now. So now it's in that tab. So now right here, if we click remote, remote will show us our current scene tree. So we have the root, which is like the root of GDO. That's the window, and we add, you know, our scenes to that. We have game which appears as a node even though it's just a script and then we have scene and then scene has sprite 2D. So in GDO the further down this list something is the more on top of the screen it's rendered. So like this is placed first then scene. So sprite 2D is here. If we had a different sprite 2D on top of that overlapping that we would see it overlap it. Um, and that's important. Now, with globals, we actually can't add child scenes to the globals because they're not actually scenes. They're just scripts. They just get loaded into GDAU as a node so that they're viable for the whole run of the project. So what that means is you know from the moment the project is started to the moment the project is ended we can access anything within that global script because it's a global node. It's in the same you know hierarchy as game and scene and all of that. And that'll be very important for managing systems across your entire game that you know are relevant to multiple scenes. So, let's kill this and let's boot up our game.Gdscript. So, this game.gdscript is going to be the entry point for the game. So, this is going to handle all of like our global game settings and everything. Okay. Um, and we're just going to start with some basic variables. Um, so I like to add regions to all of my variables. So this is going to be settings. Um, or we're going to type in is game pausible and game paused. So is possible means like you know can we actually pause the game and then um is it actually paused as our variable and then we're add a new region and we're going to call this core scene variables. Okay, so this is where we're going to put our current scene variable. We're going to set it to null. And then we're going to add music SFX for sound effects. The scene user interface transition and then app and then we will end the region. And so what these will be is these will be scenes that um are under our root scene that'll handle, you know, music, sound effects, the current scene we're doing, any UI that overlays the scene, our transition effects, and then app will be kind of like a running application. Um, and we're not going to use all these variables today, per se. We're just going to start with some of them. So we have that there. And now what we're going to do is we're just going to do our our basic functions. So we're going to do our ready function. And then we're going to do our process function. And I'm just going to pass on these for now. And we will just leave those there for now. So they're not going to do anything. We just have placeholders for them. So now what we're going to do is we're actually going to come back to our scene. So let's save this um and we're going to come back to our scene. Go to our scene editor and we're actually going to change some things. So we're going to delete this and we're actually going to change the type up here. So we're going to go change type and we're just going to make this a node actually. So we're going to change it to a node and we're going to rename this app. So game is the global script and then app is going to be kind of like the root node that handles all of the other, you know, functional nodes, not a global, but other things. And so this is where I'm actually going to change the hierarchy of our save folder a little bit. So I'm going to create a new folder. I'm going to call it core engine. And I'm actually going to take the scene and I'm going to move it in there. And I'm going to take script and I'm going to move it in there. And then I'm going to create one more folder and we're going to call it core. And these are going to pop into here. Okay. And then I'm going to rename scene to app. Perfect. So we've got that. Um, we're going to come up to our app and we're actually going to create an app script and we're going to call it app. Hit create extends node. We're literally just going to put our ready in process in there. Save it. Close it. And that's all we're going to do. Okay. So, now you're probably like, "Oh my goodness, Bills, what are you doing? What's going on? There's so much stuff going on." Like I said, this one's going to be a little different. We're setting up the system. And so by setting it up like this, we're also going to be explaining a whole bunch of different things. So within Core Engine, let's create some new folders. Okay, like I said, a lot of stuff is going to be going on. So we're going to call this first one scene manager. Then we're going to create another one called UI. And then we're going to create another one called audio. And actually, I usually call this one audio engine. So within scene manager, we're going to create So I've got my, you know, template project that I'm looking at to make sure I get all this right because it's kind of looping around on itself. Set it to just a node. Call it scene route. Um, hit okay. And then perfect. All done with scene route. Super simple, I know. And then UI. We're going to create one called UI root. So create scene. Call it UI root. Create it as a node. Perfect. There it is. Then we're going to attach a script to this as well. So, and we're going to call this UI root. GD. We're going to attach the script. So, you can just drag the script right up there like that. Attach it. And let's open it. Perfect. So, we have that. Let's add in our two base functions. We got a ready and our process. Perfect. And then in here, we're actually going to add um a canvas layer. Perfect. And then within that canvas layer, let us add a let's just add a control node. And then we're just going to add a label. Perfect. And this label, I'm literally just going to write that UI route is active. So that's how we know that like it has been added to the scene. Um, and then I forgot to move all of this over here. There we go. That's better. So I usually have, you know, all my stuff over here on this side like that. So the UI route is active. So that's what that's going to say. We're going to save that. And then we have audio. So within audio, we're just going to create a new scene and we're going to call it audio root as a node. Save it. Perfect. So this is what we should have. Um, and then we can delete these two because we don't need them. So we have our core engine. We have audio engine with an audio route. And then the core with an app script, an app scene, and a game script. A scene manager with a scene route, a UI folder with a UI root and a UI root scene. Perfect. So now uh if we run the game and we go to remote, we have game as our global and then app and nothing's happening in app. So you know, we don't expect to see anything. So let's close that down. Now, if we go into our app, we can add in all of these scenes. So, we add in scene route, and then we can add in UI root. And UI needs to be on top of scene. Um, and then we can add in audio route. Audio route doesn't necessarily matter where it is. Um, we'll leave it right there for now. So, now we have these three scenes. And if we want, just for fun, um, we can literally just go into these and we can just add labels and say like scene route and just drag it somewhere so that we know it's active. So scene route is active. Perfect. And then let's open up the audio route. We'll do the same thing. We'll add a label and we'll call it audio root is active. And we'll just drag this over here. So now if we run this, perfect. We should see all three of these. So the UI route is active, scene route is active, and the audio route is active. That means those three nodes have been added to the scene tree. So if we go to remote, we have our game global. Then we have app. Then app has scene route, UI root, and audio root. And we can see all of those labels. Well, the UI has a canvas layer and then a control and then a label. So there we have it. So we have our root scene and then we have these are here. The reason we are doing this is because we have to have an entry point which is this app. Every other scene we add has to be underneath this app in some way, shape or form. Nothing can go under game because it's a global. If we have other globals, they'll appear up here and nothing can go under them. We can only add to app. So to control everything, we just make make app kind of a parent container. And then we have our scene root node which will handle whatever the active scene is. So the active scene will add it under here and we'll see that the UI like the pause menu goes under the UI route and it'll render on top of the scene. And then the audio route, it will play audio globally. And we'll eventually add other ones, you know, like a transition manager which will be on top of all of this that plays cool transitions as we go from scene to scene. All righty. So now just to add a little more code to this um and make the project a little more fun just because like I said this isn't a huge um coding project where we're going to add a massive feature. This is more establish the groundwork. So let's go. Let's add a new action an input. The escape key we'll call it menu. Perfect. Let's close that down. And then let's open up um where's our game? Our game.script. Perfect. So first thing we're going to do is in here we're going to put process mode to process mode always. So what this does is this says even if we pause the scene tree always always always always make sure that game runs no matter what. Okay. And now what we're going to do is we're going to get these global variables. We're going to get access to them so that we can use them throughout the project. Okay, so we're going to say app equals get tree dotroot.get node app. So what this does is let's run the game. We're saying get tree. So get all this information root meaning look under here. Get node called app. So it's going to return that node right there. So now if we reference app somewhere else in the game or would have to reference app.game or game.app which sounds tricky but we'll talk about that when we get there. Um we can now access that note and that'll be important for adding new scenes to the tree. So now we can say scene equals app.get get child and we're just going to call this zero and then we can say UI equals app.get child 1 and then we can say uh actually we'll stop there for now. So what that is saying is now that we have app we have this node we're just getting the children order. So scene is the zeroth because list start at zero. UI is one. Audio root would be two. If we had other ones, it' be three, four, five. So we're just saving these nodes into these variables so that we have access to them. So now let's go down to process. We're going to add in some code here. We're going to say if input do isaction just pressed and we're going to look at the menu action and is game pausible. So if somebody wants to pause and we can pause the game, we're going to say game paused equals exclamation point game paused. So the exclamation point is the not operator. Uh what it means is just negates this. So if this is true now make it not true so it returns false or if it's false it makes it not false which is true and returns true. So it just it just toggles it. It flips it between um being you know true or paused and not paused. And then we'll add in two more functions um for funsies. So we'll get some programming in. So we'll add a set paused function and we'll say get tree.pause. So GDO has built-in paused functionality. So we just say get tree.pause and that gets us the status. And then we say current scene dot set process. We're going to say not status. Okay. And then another easy function to add in is quit game. So whenever we send this command, this will actually kill the app and exit the application. Perfect. The other thing I'm going to add in here is um I'm going to add in the notification default function. So we're not going to do anything with it now. Um what it's going to do is the quit game signal we're actually going to phase out at one point. And the notification what it's saying is like when we actually send a signal to quit the game um this we can send this notification so then we can like automatically save the data and then we call quit game to then you know quit the game at some point in time. All righty. So if we run this again we can see we have our root. So GDAU has a root which is the window. We add our globals first. So game is our global. So we can see that it's a script and then we add our root node which is app. Within there we have our scene route, our UI root and our audio route each of which has a label so that we can see that it is indeed added to the tree. And so GDAU has to have a root scene and everything we add to the project then goes under that root scene which I just happen to call app and then game just handles some of the actual scripting for it. As we build this project and we add transitions and scenes and menus and splash screens and levels and level select and all of that, um, we'll have more globals that'll appear here and we'll have app and we'll have a few more, you know, kind of root nodes, I'll call them, that go under our app that we can access. And you'll see that it's actually not too hard to build a very efficient system for managing all your scenes. And it makes it really easy to add in, you know, loading screens. So, when I transition from the level select to this level, I can just tell my scene manager, "Hey, transition to this level and the scene manager will be like, "Okay, do we need to load anything?" Oh, yes, we do. Let's load that. And it'll go to the loading screen while stuff loads so you don't freeze your game while it loads. And then it'll transition to the level once, you know, everything has loaded. And so, that's kind of where we're going with this project. A very different tutorial video I know um but a very important one nonetheless to set some ground break or set some bases and some foundations as we move forward with this project. So if you have not liked and subscribed yet, please go ahead and like and subscribe. There's a lot to come with this series and there's more videos that I am working on behind the scenes. So thank you all for your patience and I'll see you in the next one.